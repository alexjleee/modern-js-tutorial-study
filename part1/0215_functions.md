# 함수

## 함수란?

- 수학의 함수와 마찬가지로 입력을 받아 일련의 과정을 거친 뒤 출력을 내보낸다. 이때 함수 내부로 입력을 전달받는 변수를 매개변수(parameter), 입력을 인수(argument), 출력을 반환 값(return value)이라 한다. 

```javascript
// function definition
function functionName(param1, param2) {
  // function body
  return returnValue;
}
// function call
functionName(arg1, arg2);
```

## 함수를 사용하는 이유

- 함수는 여러 번 호출할 수 있다. 즉, **재사용** 가능하다. 동일한 동작을 여러 번 반복해야 할 경우, 이를 함수로 만들어 사용하는 것이 효율적이다. 

- 함수는 코드의 중복을 줄이고 재사용성을 높여 **유지보수의 편의성**과 코드의 **신뢰성**을 높인다.

- 올바른 함수 이름을 사용하면 함수 내부 코드를 이해하지 않고도 함수의 역할을 파악할 수 있다. 이는 코드의 **가독성**을 높인다.

## 함수 리터럴 (Function Literal)

- 자바스크립트에서 함수는 일반 객체처럼 값으로 취급된다. 따라서 객체 리터럴로 객체를 생성하는 것처럼 함수 리터럴로 함수를 생성할 수 있다.

- 함수 리터럴은 `function` 키워드, 함수 이름, 매개변수 목록, 함수 본문으로 구성된다.

## 함수 정의 (Function Definition)

- 함수는 함수 정의를 통해 생성한다.

- 함수 정의란 함수를 호출(함수를 호출할 때는 반드시 괄호가 있어야 한다)하기 전에 매개변수와 함수 본문, 그리고 반환 값을 지정하는 것을 말한다.

- 함수를 정의하는 방법에는 함수 선언문, 함수 표현식, 생성자 함수, 화살표 함수를 사용한 4가지 방법이 있다.

### 함수 선언문 (Function Declaration)

- 함수 선언문은 함수 선언문이 정의되기 전에도 호출할 수 있다. 자바스크립트 엔진이 스크립트를 실행하기 전 준비단계에서 변수/함수 선언을 해당 스코프 최상단으로 끌어올리기 때문이다(호이스팅).

  - 함수 선언문으로 함수를 정의하면 함수가 선언되기 전에 호출할 수 있어 코드 구성을 좀 더 자유롭게 할 수 있다.

- 함수 선언문은 함수가 선언된 코드 블록 안에서만 유효하며 밖에서는 접근할 수 없다.

```javascript
function sum(a, b) {
  return a + b;
}
```

### 함수 표현식 (Function Expression)

- 함수를 생성하고 변수에 값을 할당하는 것처럼 함수를 변수에 할당한다.

- 함수 표현식으로 정의된 함수는 실제 실행 흐름이 해당 함수에 도달했을 때 함수가 생성된다. 함수 표현식으로 정의된 함수는 정의되기 전에는 호출 할 수 없다.

```javascript
const sum = function(a, b) {
  return a + b;
}; // 함수 선언문과 달리 세미콜론이 붙음 (함수 표현식은 코드 블록이 아닌 값으로 취급되기 때문)
const add = sum; // sum함수가 add에 복사됨 sum === add
```

### `Function()` 생성자 함수

```javascript
const sum = new Function('a', 'b', 'return a + b');
```

### ES6 화살표 함수 (Arrow Function)

```javascript
const sum = (a, b) => a + b;
```

## 지역 변수 & 외부 변수 (Local Variable & Outer Variable)

- 지역 변수는 함수 내에서 선언한 변수로 해당 함수와 해당 함수의 내부 함수에서만 접근 가능하다.

- 외부 변수는 함수 바깥에 선언된 변수로 함수 내부에서는 함수 외부의 외부 변수에 접근할 수 있다.

  - 외부 변수와 이름이 동일한 지역 변수가 있다면 해당 이름으로는 지역 변수에만 접근할 수 있다. 외부 변수는 지역 변수에 가려져 접근할 수 없게 된다.

## 매개변수 & 인수 (Parameter & Argument)

- 매개변수는 함수 내부로 입력을 전달받는 변수를, 인수는 실제 함수에 입력되는 값을 말한다.

### 매개변수 기본값

- 매개변수에 값을 전달하지 않으면 기본값은 `undefined`다.

- 매개변수에 값을 전달하지 않았을 때 그 값이 `undefined` 외 다른 값이 되게 하려면 기본값을 설정해주면 된다.

```javascript
function showMessage(message='no message') {
  alert(message);
}
showMessage(); // no message
```

- 함수가 실행되는 도중 기본값을 설정해야 할 경우도 있다. 이럴 경우 `if`문, 또는 논리 연산자 `||`를 사용할 수 있다.

```javascript
function showMessage(message) {
  // if (message === undefined) {
  //   message = 'no message';
  // }
  message = message || 'no message';
  alert(message);
}
showMessage(); // no message
```

## 반환 값 (Return Value)

- 지시자 `return`은 함수 내 어디서든 사용할 수 있으며 실행 중 `return`을 만나면 함수는 실행을 중단하고 함수를 호출한 곳에 값을 반환한다.

- 반환값 없이 `return`만 명시할 수도 있다. 이 경우 함수 실행을 즉시 중단하게 되고 반환값은 `return`문이 없을 때와 마찬가지로 `undefined`가 된다.

- `return`과 반환값 사이에 절대 줄을 삽입하면 안 된다. 표현식이 길 경우 `return` 지시자가 있는 줄에서 식이 시작해야 한다.

## 함수 네이밍

- 함수는 어떤 *동작*을 수행하기 위한 코드의 모음으로, 함수 이름은 대개 *동사*이다.

- 함수 이름은 가능한 간결하고 명확하며, 이름만 보고도 어떤 동작을 하는지 알 수 있어야 한다.

- 함수가 어떤 동작을 하는지 축약해서 설명하는 동사를 접두어로 붙여 함수 이름을 만드는 것이 관습이다. (팀 개발을 할 경우 팀에서 반드시 합의된 접두어를 사용해야 한다)

  - 예:

    - `show`: 무언가를 보여줌

    - `get`: 어떤 값을 돌려받아 반환

    - `set`: 값을 변경하거나 설정
    
    - `calc`: 무언가를 계산

    - `create`: 무언가를 새로 생성

    - `check`: 무언가를 확인하여 불린값을 반환

- 함수는 함수 이름에 언급된 동작 외의 동작을 해서는 안 된다.

### 주석의 역할을 하는 함수

- 함수가 길어지면 잘게 쪼개 간결하게 한 가지 기능만 수행하도록 만들어야 한다.

- 함수를 분리하여 작성하면 테스트와 디버깅이 쉬워지며 그 자체로 주석의 역할까지 한다. 

- 함수의 이름을 보고 해당 함수 본문에서 어떤 동작이 일어나는지 알 수 있어야 한다. 이처럼 이름만 보고도 어떤 동작을 하는지 알 수 있는 코드를 *자기 설명적(self-describing)* 코드라고 부른다.
